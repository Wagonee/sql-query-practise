<?xml version="1.0" encoding="UTF-8"?><sqlb_project><db path="C:/Users/ponom/Downloads/database.sqlite" readonly="0" foreign_keys="1" case_sensitive_like="0" temp_store="0" wal_autocheckpoint="1000" synchronous="2"/><attached/><window><main_tabs open="structure browser pragmas query" current="3"/></window><tab_structure><column_width id="0" width="300"/><column_width id="1" width="0"/><column_width id="2" width="100"/><column_width id="3" width="4041"/><column_width id="4" width="0"/><expanded_item id="0" parent="1"/><expanded_item id="1" parent="1"/><expanded_item id="2" parent="1"/><expanded_item id="3" parent="1"/></tab_structure><tab_browse><table title="Invoice" custom_title="0" dock_id="1" table="4,7:mainInvoice"/><dock_state state="000000ff00000000fd000000010000000200000216000002aefc0100000001fb000000160064006f0063006b00420072006f00770073006500310100000000000002160000012800ffffff000002160000000000000004000000040000000800000008fc00000000"/><default_encoding codec=""/><browse_table_settings><table schema="main" name="Album" show_row_id="0" encoding="" plot_x_axis="" unlock_view_pk="_rowid_" freeze_columns="0"><sort/><column_widths><column index="1" value="56"/><column index="2" value="300"/><column index="3" value="53"/></column_widths><filter_values/><conditional_formats/><row_id_formats/><display_formats/><hidden_columns/><plot_y_axes/><global_filter/></table><table schema="main" name="Customer" show_row_id="0" encoding="" plot_x_axis="" unlock_view_pk="_rowid_" freeze_columns="0"><sort/><column_widths><column index="1" value="74"/><column index="2" value="78"/><column index="3" value="101"/><column index="4" value="300"/><column index="5" value="300"/><column index="6" value="156"/><column index="7" value="54"/><column index="8" value="117"/><column index="9" value="85"/><column index="10" value="156"/><column index="11" value="148"/><column index="12" value="234"/><column index="13" value="88"/></column_widths><filter_values/><conditional_formats/><row_id_formats/><display_formats/><hidden_columns/><plot_y_axes/><global_filter/></table><table schema="main" name="Invoice" show_row_id="0" encoding="" plot_x_axis="" unlock_view_pk="_rowid_" freeze_columns="0"><sort><column index="6" mode="0"/></sort><column_widths><column index="1" value="62"/><column index="2" value="76"/><column index="3" value="156"/><column index="4" value="300"/><column index="5" value="156"/><column index="6" value="72"/><column index="7" value="117"/><column index="8" value="105"/><column index="9" value="46"/></column_widths><filter_values/><conditional_formats/><row_id_formats/><display_formats/><hidden_columns/><plot_y_axes/><global_filter/></table><table schema="main" name="Prices" show_row_id="0" encoding="" plot_x_axis="" unlock_view_pk="_rowid_" freeze_columns="0"><sort/><column_widths><column index="1" value="156"/><column index="2" value="50"/></column_widths><filter_values/><conditional_formats/><row_id_formats/><display_formats/><hidden_columns/><plot_y_axes/><global_filter/></table></browse_table_settings></tab_browse><tab_sql><sql name="SQL 1">SELECT FirstName || ' ' || LastName AS FullName, CustomerId, Country FROM Customer WHERE Country != &quot;USA&quot;</sql><sql name="SQL 2">SELECT FirstName ||' ' || LastName AS FullName FROM Customer WHERE Country == 'Brazil'</sql><sql name="SQL 3">SELECT FirstName ||' '|| LastName, Invoice.InvoiceId, Invoice.InvoiceDate, Invoice.BillingCountry
FROM Customer
INNER JOIN Invoice
ON Customer.CustomerId = Invoice.CustomerId
WHERE Customer.Country = 'Brazil' </sql><sql name="SQL 4">SELECT Employee.FirstName ||' '|| Employee.LastName AS FullName
FROM Employee
WHERE Title like '%sales%' or Title like'%agent%'</sql><sql name="SQL 5">SELECT DISTINCT Invoice.BillingCountry 
FROM Invoice</sql><sql name="SQL 6">SELECT Invoice.InvoiceId, Employee.FirstName ||' '|| Employee.LastName AS FullName
FROM Employee
INNER JOIN Customer
ON Employee.EmployeeId = Customer.SupportRepId
INNER JOIN Invoice
ON Customer.CustomerId = Invoice.CustomerId
WHERE Employee.Title = 'Sales Manager' or Employee.ReportsTo IN (SELECT Employee.EmployeeId FROM Employee WHERE Employee.Title = 'Sales Manager');
</sql><sql name="SQL 7">-- SELECT Invoice.Total, Customer.FirstName ||' '|| Customer.LastName AS FullName, Invoice.BillingCountry, Employee.FirstName ||' '|| Employee.LastName AS AgentFullName
-- FROM Customer
-- LEFT JOIN Invoice
-- ON Customer.CustomerId = Invoice.CustomerId
-- LEFT JOIN Employee
-- ON Customer.SupportRepId = Employee.EmployeeId

SELECT Invoice.Total, Customer.FirstName ||' '|| Customer.LastName AS FullName, Invoice.BillingCountry, Employee.FirstName ||' '|| Employee.LastName AS AgentFullName
FROM Invoice
LEFT JOIN Customer
ON Customer.CustomerId = Invoice.CustomerId
LEFT JOIN Employee
ON Customer.SupportRepId = Employee.EmployeeId</sql><sql name="SQL 8">-- CREATE TABLE Prices (Year int, Income int);
-- 
-- INSERT INTO Prices(Year, Income)
-- SELECT 2009 AS Year,
-- SUM(Invoice.total) as Income
-- From Invoice
-- WHERE strftime('%Y', Invoice.InvoiceDate) = '2009';
-- 
-- INSERT INTO Prices(Year, Income)
-- SELECT 2011 AS Year,
-- SUM(Invoice.total) as Income
-- From Invoice
-- WHERE strftime('%Y', Invoice.InvoiceDate) = '2011';

SELECT strftime('%Y', Invoice.InvoiceDate) as Year, sum(Invoice.total) as Income, count(invoice.InvoiceId) as Quantity
FROM Invoice
WHERE strftime('%Y', Invoice.InvoiceDate) in ('2009', '2011')
GROUP BY Year</sql><sql name="SQL 9">SELECT count(InvoiceLineId) as Quantity
FROM InvoiceLine
WHERE InvoiceLine.InvoiceId = 37</sql><sql name="SQL 10">SELECT InvoiceLine.InvoiceId as Id, count(InvoiceLineId) as Quantity
FROM InvoiceLine
GROUP BY InvoiceLine.InvoiceId</sql><sql name="SQL 11">SELECT InvoiceLine.InvoiceId, Track.name as TrackTitle
FROM InvoiceLine
INNER JOIN Track
ON InvoiceLine.TrackId = Track.TrackId</sql><sql name="SQL 12">SELECT il.InvoiceId, t.name as TrackTitle, art.Name as Performer
FROM InvoiceLine as il
INNER JOIN Track as t ON il.TrackId = t.TrackId
INNER JOIN Album as a ON t.AlbumId = a.AlbumId
INNER JOIN Artist as art ON a.ArtistId = art.ArtistId</sql><sql name="SQL 13">SELECT count(IL.InvoiceLineId) as Quantity, I.BillingCountry
FROM InvoiceLine as IL
INNER JOIN Invoice as I
ON IL.InvoiceId = I.InvoiceId
GROUP BY I.BillingCountry</sql><sql name="SQL 14">SELECT count(T.TrackId) as Quantity, P.Name
FROM Track as T
INNER JOIN PlaylistTrack as PT
ON PT.TrackId = T.TrackId
INNER JOIN Playlist as P
ON P.PlaylistId = PT.PlaylistId
GROUP BY P.Name</sql><sql name="SQL 15*">SELECT T.Name as Title, A.Title as AlbumFrom, MT.Name as MedType, G.Name as GenreOfTrack
FROM Track as T
LEFT JOIN Album as A
ON T.AlbumId = A.AlbumId
INNER JOIN MediaType as MT
ON T.MediaTypeId = MT.MediaTypeId
LEFT JOIN Genre as G
ON T.GenreId = G.GenreId
</sql><sql name="SQL 16*">SELECT I.InvoiceId as Id, count(IL.InvoiceLineId) as Quantity
FROM Invoice as I
LEFT JOIN InvoiceLine as IL
ON IL.InvoiceId = I.InvoiceId
GROUP BY I.InvoiceId</sql><sql name="SQL 17*">SELECT sum(Invoice.Total) as Income, Employee.FirstName ||' '|| Employee.LastName as FullName
FROM Employee
LEFT JOIN Customer
ON Employee.EmployeeId = Customer.SupportRepId
LEFT JOIN Invoice
ON Invoice.CustomerId = Customer.CustomerId 
GROUP BY Employee.EmployeeId</sql><sql name="SQL 18*">SELECT 
    e.FirstName || ' ' || e.LastName AS FullName,
    SUM(i.Total) AS Income
FROM Employee e
INNER JOIN Customer c
    ON e.EmployeeId = c.SupportRepId
INNER JOIN Invoice i
    ON c.CustomerId = i.CustomerId
WHERE i.InvoiceDate &gt;= '2009-01-01 00:00:00' AND i.InvoiceDate &lt; '2010-01-01 00:00:00'
GROUP BY e.EmployeeId
ORDER BY Income DESC
LIMIT 1;
</sql><sql name="SQL 19*">SELECT 
    e.FirstName || ' ' || e.LastName AS FullName,
    SUM(i.Total) AS Income
FROM Employee e
INNER JOIN Customer c
    ON e.EmployeeId = c.SupportRepId
INNER JOIN Invoice i
    ON c.CustomerId = i.CustomerId
WHERE i.InvoiceDate &gt;= '2010-01-01 00:00:00' AND i.InvoiceDate &lt; '2011-01-01 00:00:00'
GROUP BY e.EmployeeId
ORDER BY Income DESC
LIMIT 1;</sql><sql name="SQL 20*">SELECT 
    e.FirstName || ' ' || e.LastName AS FullName,
    SUM(i.Total) AS Income
FROM Employee e
INNER JOIN Customer c
    ON e.EmployeeId = c.SupportRepId
INNER JOIN Invoice i
    ON c.CustomerId = i.CustomerId
GROUP BY e.EmployeeId
ORDER BY Income DESC
LIMIT 1;</sql><sql name="SQL 21*">SELECT count(c.CustomerId) as Quantity, e.FirstName ||' '|| e.LastName AS FullName
FROM Employee as e
LEFT JOIN Customer as c
ON e.EmployeeId = c.SupportRepId
WHERE e.Title =  'Sales Support Agent'
GROUP BY e.EmployeeId</sql><sql name="SQL 22*">SELECT i.BillingCountry as Country, sum(i.total) as Income
FROM Invoice as i
GROUP BY i.BillingCountry
ORDER BY Income DESC</sql><sql name="SQL 23*">SELECT Track.Name as Name, sum(InvoiceLine.Quantity) as Quantity
FROM Track
INNER JOIN InvoiceLine
ON Track.TrackId = InvoiceLine.TrackId
INNER JOIN Invoice as i
ON InvoiceLine.InvoiceId = i.InvoiceId
WHERE i.InvoiceDate &gt;= '2013-01-01 00:00:00' AND i.InvoiceDate &lt; '2014-01-01 00:00:00'
GROUP BY Track.TrackId
ORDER BY Quantity DESC</sql><sql name="SQL 24*">SELECT Track.Name as Name, sum(InvoiceLine.Quantity) as Quantity
FROM Track
INNER JOIN InvoiceLine
ON Track.TrackId = InvoiceLine.TrackId
GROUP BY Track.TrackId
ORDER BY Quantity DESC
LIMIT 5</sql><current_tab id="23"/></tab_sql></sqlb_project>
